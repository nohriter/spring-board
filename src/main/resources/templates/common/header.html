<!-- start header.html -->
<header>
  <div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom">
    <a th:href="@{/}" class="d-flex align-items-center link-body-emphasis text-decoration-none">
      <span class="ms-2 fs-4">게시판</span>
    </a>
    <nav class="d-inline-flex mt-2 mt-md-0 ms-md-auto">
      <!-- 세션에 로그인 정보가 있는지 확인하여 다른 버튼을 표시 -->
      <th:block th:if="${session.loginMember != null}">
        <a th:href="@{/myInfo}" class="me-3 py-2 link-body-emphasis text-decoration-none">내정보</a>
        <a th:href="@{/board/write}" class="me-3 py-2 link-body-emphasis text-decoration-none">글쓰기</a>
        <a th:href="@{https://kauth.kakao.com/oauth/logout?client_id=ca9f670ea88bce3a4a6f03d0c919628f&logout_redirect_uri=http://www.jhub.kr/logout}" class="me-3 py-2 link-body-emphasis text-decoration-none">로그아웃</a>
      </th:block>
      <th:block th:if="${session.loginMember == null}">
        <a th:href="@{https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=ca9f670ea88bce3a4a6f03d0c919628f&redirect_uri=http://www.jhub.kr/login}" class="me-3 py-2 link-body-emphasis text-decoration-none">로그인</a>
        <a th:href="@{https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=ca9f670ea88bce3a4a6f03d0c919628f&redirect_uri=http://www.jhub.kr/login}" class="me-3 py-2 link-body-emphasis text-decoration-none">회원가입</a>
      </th:block>
    </nav>
  </div>

  <!-- 카테고리 선택 메뉴 -->
  <div class="container py-3">
    <div class="d-flex justify-content-center">
      <div class="btn-group" role="group">
        <a th:href="@{/board/view(category='all', page=1)}"
           th:classappend="${category == 'all' || category == '전체'} ? 'btn-dark' : 'btn-light'"
           class="btn border">전체글</a>
        <a th:href="@{/board/view(category='information', page=1)}"
           th:classappend="${category == 'information' || category == '정보'} ? 'btn-dark' : 'btn-light'"
           class="btn border">정보</a>
        <a th:href="@{/board/view(category='question', page=1)}"
           th:classappend="${category == 'question' || category == '질문'} ? 'btn-dark' : 'btn-light'"
           class="btn border">질문</a>
        <a th:href="@{/board/view(category='general', page=1)}"
           th:classappend="${category == 'general' || category == '일반'} ? 'btn-dark' : 'btn-light'"
           class="btn border">일반</a>
      </div>
    </div>
  </div>
  <!-- 카테고리 선택 메뉴 -->

  <script th:inline="javascript">
    function logout() {
      fetch('/logout', {
        method: 'POST',
      }).then(response => {
        if (response.ok) {
          alert("로그아웃 되었습니다.");
          window.location.href = "/"; // 로그아웃 후 홈 페이지로 이동
        } else {
          console.error('로그아웃에 실패했습니다.');
        }
      }).catch(error => {
        console.error('네트워크 오류:', error);
      });
    }
  </script>
</header>
<!-- end header.html -->
